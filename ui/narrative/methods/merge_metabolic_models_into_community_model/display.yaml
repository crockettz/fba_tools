#
# Define basic display information
#
name     : Merge Metabolic Models into Community Model

tooltip  : |
    Merge two or more metabolic models into a compartmentalized community model.

screenshots : []


#
# Define the set of other narrative methods that should be suggested to the user.
#
suggestions :
    apps:
        related :
            []
        next :
            []
    methods:
        related :
            []
        next :
            [compare_two_metabolic_models_generic, gapfill_a_metabolic_model]


#
# Configure the display and description of the parameters
#
parameters :
    fbamodel_id_list :
        ui-name : |
            FBA Models
        short-hint : |
            A list of metabolic models consisting of stoichiometric reactions, compounds, and the weighted components of  the biomass. At least two individual models must be provided. They will be merged into a single set of models.
        placeholder : |
            Model to be merged


    mixed_bag_model :
        ui-name : |
            Construct mixed-bag model?
        short-hint : |
            Rather than placing each model into its own compartment, check this box to combine all models into a single non-redundant model consolidated in a single cytosol compartment. This option is recommended when the total number of species is large.


    fbamodel_output_id :
        ui-name : |
            Community model
        short-hint : |
            Name of community model to be generated.
        placeholder : |
            Output community model ID


fixed-parameters :
    -
        ui-name : |
            Template Model
        description : |
            Models are generated based on a default template model in KBase. Template models capture the necessary biochemical information based on a user-defined scope. For microbial models, KBase primarily uses two template models based on their Gram classification (Gram-positive or Gram-negative). These template models differ from each other by biomass composition and biochemical reaction functional associations. KBase users currently do not have the option to choose or alter the default template model.

icon: fba-teal.png

description : |
    <p>This App merges two or more metabolic models from individual organisms into  a compartmentalized joint model of a community of multiple organisms.</p>

    <p>Community models demonstrate how metagenomic data can be used to produce a compartmentalized model of a multi-species community. As with any FBA model, this compartmentalized model can then be optimized for the generation of the community biomass. In the community model generated by this App, all compounds and reactions in species 1, 2, etc. are localized into their own respective compartments labeled c1, c2, etc. Compounds transported out of any of the community members to the extracellular environment are labeled e0. Any member of the community having the transport reaction capable of importing these compounds is able to utilize these extracellular compounds.</p>

    <p>The community model is capable of predicting the community flux profiles, trophic interactions between the community members, and overall community consumption and production of nutrients.</p>

    <p>This App primarily requires two input parameters: (i) the list of models IDs of individual organisms and (ii) relative abundances (in the same order as model IDs) of each organism in the community. The relative abundance values allow users to formulate the biomass composition for the entire community. Relative abundances need to be normalized to one. For example, a four species community with equal abundances of these species is represented by 0.25; 0.25; 0.25; 0.25 in the second input field.</p>

    <p> When the total number of species is large, a mixed bag community model is the preferred approach. In this approach, a simple model without any additional compartments is created and is useful for understanding the overall functional capability of the community. </p>

    <p>When the total number of species is small, a compartmentalized multi-species model is the preferred approach. In this approach, each species is contained in a separate compartment and is useful for predicting potential interactions between species.</p>

    <p>For additional information about metabolic modeling, visit the <a href="https://kbase.us/metabolic-modeling-faq/">Metabolic Modeling in KBase FAQ</a>.<p>

    <p><strong>Team members who developed & deployed algorithm in KBase:</strong> Chris Henry, Janaka Edirisinghe, Sam Seaver, and Neal Conrad. For questions, please <a href="https://www.kbase.us/support/">contact us</a>.</p>


publications :
    -
        display-text: |
            Arkin AP, Cottingham RW, Henry CS, Harris NL, Stevens RL, Maslov S, et al. KBase: The United States Department of Energy Systems Biology Knowledgebase. Nature Biotechnology. 2018;36: 566. doi: 10.1038/nbt.4163
        link: https://www.nature.com/articles/nbt.4163

    -
        display-text: |
            Henry CS, DeJongh M, Best AA, Frybarger PM, Linsay B, Stevens RL. High-throughput generation, optimization and analysis of genome-scale metabolic models. Nat Biotechnol. 2010;28: 977â€“982. doi:10.1038/nbt.1672
        link: https://www.ncbi.nlm.nih.gov/pubmed/20802497
